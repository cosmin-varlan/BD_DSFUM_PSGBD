<p>Star Wars on Arduino. Cod adaptat dupa cel existent la https://gist.github.com/nicksort/4736535  :</p>


<p>Modulul TRRS trebuie conectat astfel:</p>
<ul>
<li> SLEEVE la pinul 7</li>
<li> RING2 la pinul 6 </li>
<li> RING1 la pinul 5 </li>
<li> TIP la pinul 4</li>
</ul>


<p><source lang="c"></p>

<p>#define p_tip 4</p>
<p>#define p_r1 5</p>
<p>#define p_r2 6</p>
<p>#define p_sleeve 7</p>

<p>const int c = 261;</p>
<p>const int d = 294;</p>
<p>const int e = 329;</p>
<p>const int f = 349;</p>
<p>const int g = 391;</p>
<p>const int gS = 415;</p>
<p>const int a = 440;</p>
<p>const int aS = 455;</p>
<p>const int b = 466;</p>
<p>const int cH = 523;</p>
<p>const int cSH = 554;</p>
<p>const int dH = 587;</p>
<p>const int dSH = 622;</p>
<p>const int eH = 659;</p>
<p>const int fH = 698;</p>
<p>const int fSH = 740;</p>
<p>const int gH = 784;</p>
<p>const int gSH = 830;</p>
<p>const int aH = 880;</p>
 
<p>const int buzzerPin = 3;</p>
<p>const int ledPin1 = 12;</p>
<p>const int ledPin2 = 13;</p>
 
<p>int counter = 0;</p>
 
<p>void setup()</p>
{
<p>  //Setup pin modes</p>
<p>  pinMode(p_tip, OUTPUT);</p>
<p>  pinMode(p_r1, OUTPUT);</p>
<p>  pinMode(p_r2, OUTPUT);</p>
}
 
<p>void loop()</p>
{
 
<p>  //Play first section</p>
<p>  firstSection();</p>
 
<p>  //Play second section</p>
<p>  secondSection();</p>
 
<p>  //Variant 1</p>
<p>  beep(f, 250);  </p>
<p>  beep(gS, 500);  </p>
<p>  beep(f, 350);  </p>
<p>  beep(a, 125);</p>
<p>  beep(cH, 500);</p>
<p>  beep(a, 375);  </p>
<p>  beep(cH, 125);</p>
<p>  beep(eH, 650);</p>
 
<p>  delay(500);</p>
 
<p>  //Repeat second section</p>
<p>  secondSection();</p>
 
<p>  //Variant 2</p>
<p>  beep(f, 250);  </p>
<p>  beep(gS, 500);  </p>
<p>  beep(f, 375);  </p>
<p>  beep(cH, 125);</p>
<p>  beep(a, 500);  </p>
<p>  beep(f, 375);  </p>
<p>  beep(cH, 125);</p>
<p>  beep(a, 650);  </p>
 
<p>  delay(650);</p>
}
 
<p>void beep(int note, int duration)</p>
{
<p>  //Play tone on buzzerPin</p>
<p>  tone(p_tip, note, duration);</p>
 
<p>  //Play different LED depending on value of 'counter'</p>
<p>  if(counter % 2 == 0)</p>
<p>  {</p>
<p>    digitalWrite(ledPin1, HIGH);</p>
<p>    delay(duration);</p>
<p>    digitalWrite(ledPin1, LOW);</p>
<p>  }else</p>
<p>  {</p>
<p>    digitalWrite(ledPin2, HIGH);</p>
<p>    delay(duration);</p>
<p>    digitalWrite(ledPin2, LOW);</p>
<p>  }</p>
 
<p>  //Stop tone on buzzerPin</p>
<p>  noTone(p_tip);</p>
 
<p>  delay(50);</p>
 
<p>  //Increment counter</p>
<p>  counter++;</p>
}
 
<p>void firstSection()</p>
{
<p>  beep(a, 500);</p>
<p>  beep(a, 500);    </p>
<p>  beep(a, 500);</p>
<p>  beep(f, 350);</p>
<p>  beep(cH, 150);  </p>
<p>  beep(a, 500);</p>
<p>  beep(f, 350);</p>
<p>  beep(cH, 150);</p>
<p>  beep(a, 650);</p>
 
<p>  delay(500);</p>
 
<p>  beep(eH, 500);</p>
<p>  beep(eH, 500);</p>
<p>  beep(eH, 500);  </p>
<p>  beep(fH, 350);</p>
<p>  beep(cH, 150);</p>
<p>  beep(gS, 500);</p>
<p>  beep(f, 350);</p>
<p>  beep(cH, 150);</p>
<p>  beep(a, 650);</p>
 
<p>  delay(500);</p>
}
 
<p>void secondSection()</p>
{
<p>  beep(aH, 500);</p>
<p>  beep(a, 300);</p>
<p>  beep(a, 150);</p>
<p>  beep(aH, 500);</p>
<p>  beep(gSH, 325);</p>
<p>  beep(gH, 175);</p>
<p>  beep(fSH, 125);</p>
<p>  beep(fH, 125);    </p>
<p>  beep(fSH, 250);</p>
 
<p>  delay(325);</p>
 
<p>  beep(aS, 250);</p>
<p>  beep(dSH, 500);</p>
<p>  beep(dH, 325);  </p>
<p>  beep(cSH, 175);  </p>
<p>  beep(cH, 125);  </p>
<p>  beep(b, 125);  </p>
<p>  beep(cH, 250);  </p>
 
<p>  delay(350);</p>
}



<p></source></p>










<p><!--</p>


<pre><code class="language-c">
const int c = 261;
const int d = 294;
const int e = 329;
const int f = 349;
const int g = 391;
const int gS = 415;
const int a = 440;
const int aS = 455;
const int b = 466;
const int cH = 523;
const int cSH = 554;
const int dH = 587;
const int dSH = 622;
const int eH = 659;
const int fH = 698;
const int fSH = 740;
const int gH = 784;
const int gSH = 830;
const int aH = 880;
 
const int buzzerPin = 3;
const int ledPin1 = 12;
const int ledPin2 = 13;
 
int counter = 0;
 
void setup()
{
  //Setup pin modes
  pinMode(buzzerPin, OUTPUT);
  pinMode(ledPin1, OUTPUT);
  pinMode(ledPin2, OUTPUT);
}
 
void loop()
{
 
  //Play first section
  firstSection();
 
  //Play second section
  secondSection();
 
  //Variant 1
  beep(f, 250);  
  beep(gS, 500);  
  beep(f, 350);  
  beep(a, 125);
  beep(cH, 500);
  beep(a, 375);  
  beep(cH, 125);
  beep(eH, 650);
 
  delay(500);
 
  //Repeat second section
  secondSection();
 
  //Variant 2
  beep(f, 250);  
  beep(gS, 500);  
  beep(f, 375);  
  beep(cH, 125);
  beep(a, 500);  
  beep(f, 375);  
  beep(cH, 125);
  beep(a, 650);  
 
  delay(650);
}
 
void beep(int note, int duration)
{
  //Play tone on buzzerPin
  tone(buzzerPin, note, duration);
 
  //Play different LED depending on value of 'counter'
  if(counter % 2 == 0)
  {
    digitalWrite(ledPin1, HIGH);
    delay(duration);
    digitalWrite(ledPin1, LOW);
  }else
  {
    digitalWrite(ledPin2, HIGH);
    delay(duration);
    digitalWrite(ledPin2, LOW);
  }
 
  //Stop tone on buzzerPin
  noTone(buzzerPin);
 
  delay(50);
 
  //Increment counter
  counter++;
}
 
void firstSection()
{
  beep(a, 500);
  beep(a, 500);    
  beep(a, 500);
  beep(f, 350);
  beep(cH, 150);  
  beep(a, 500);
  beep(f, 350);
  beep(cH, 150);
  beep(a, 650);
 
  delay(500);
 
  beep(eH, 500);
  beep(eH, 500);
  beep(eH, 500);  
  beep(fH, 350);
  beep(cH, 150);
  beep(gS, 500);
  beep(f, 350);
  beep(cH, 150);
  beep(a, 650);
 
  delay(500);
}
 
void secondSection()
{
  beep(aH, 500);
  beep(a, 300);
  beep(a, 150);
  beep(aH, 500);
  beep(gSH, 325);
  beep(gH, 175);
  beep(fSH, 125);
  beep(fH, 125);    
  beep(fSH, 250);
 
  delay(325);
 
  beep(aS, 250);
  beep(dSH, 500);
  beep(dH, 325);  
  beep(cSH, 175);  
  beep(cH, 125);  
  beep(b, 125);  
  beep(cH, 250);  
 
  delay(350);
}

</code></pre>

<p>--></p>
